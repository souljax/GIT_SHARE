import{r as o}from"./vendor-cxkclgJA.js";var N={exports:{}},R={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q=o,A=Symbol.for("react.element"),ee=Symbol.for("react.fragment"),te=Object.prototype.hasOwnProperty,ae=Q.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ne={key:!0,ref:!0,__self:!0,__source:!0};function U(v,d,b){var c,m={},l=null,H=null;b!==void 0&&(l=""+b),d.key!==void 0&&(l=""+d.key),d.ref!==void 0&&(H=d.ref);for(c in d)te.call(d,c)&&!ne.hasOwnProperty(c)&&(m[c]=d[c]);if(v&&v.defaultProps)for(c in d=v.defaultProps,d)m[c]===void 0&&(m[c]=d[c]);return{$$typeof:A,type:v,key:l,ref:H,props:m,_owner:ae.current}}R.Fragment=ee;R.jsx=U;R.jsxs=U;N.exports=R;var L=N.exports;const ie=({isActive:v=!0,logoCount:d=3,tooltipText:b="go to website",containerBounds:c={headerHeight:80,footerHeight:100}})=>{const[m,l]=o.useState([]),H=o.useRef(null),S=o.useRef({width:window.innerWidth,height:window.innerHeight,headerHeight:c.headerHeight,footerHeight:c.footerHeight}),Y=["react.png","js.png","typescript.png"],D={"react.png":"https://react.dev/","js.png":"https://developer.mozilla.org/en-US/docs/Web/JavaScript","typescript.png":"https://www.typescriptlang.org/"},E=o.useCallback((a,n)=>{const e=S.current,h=Math.random()*(e.width-50*1.5),i=e.headerHeight+Math.random()*(e.height-e.headerHeight-e.footerHeight-50*1.5);return{id:n,name:a,src:`./logos/bouncing_logos/${a}`,x:h,y:i,vx:(Math.random()-.5)*1.5,vy:(Math.random()-.5)*1.5,rotation:0,rotationSpeed:(Math.random()-.5)*1.44,opacity:Math.random()*.2+.8,baseSize:50,actualWidth:50,actualHeight:50,imageLoaded:!1,isPaused:!1,savedVx:0,savedVy:0,savedRotationSpeed:0}},[]),g=o.useCallback(()=>{let a=c.headerHeight,n=c.footerHeight;try{const t=document.querySelector("header, .navbar, .header, .explorer-header");t&&(a=t.getBoundingClientRect().height+10,console.log(`ðŸ“ Header dÃ©tectÃ©: ${a}px`));const e=document.querySelector("footer, .footer, .explorer-footer");e&&(n=e.getBoundingClientRect().height+8,console.log(`ðŸ“ Footer dÃ©tectÃ©: ${n}px`))}catch{console.warn("Erreur mesure DOM, utilisation valeurs par dÃ©faut")}S.current={width:window.innerWidth,height:window.innerHeight,headerHeight:a,footerHeight:n},console.log(`ðŸ“ Zones d'animation: Y=${a}px Ã  Y=${window.innerHeight-n}px`)},[c]),k=o.useCallback(()=>{const n=[...Y].sort(()=>Math.random()-.5).slice(0,d);console.log("ðŸŽ¨ BOUNCING LOGOS - Initialisation:",{isActive:v,logoCount:d,selected:n});const t=n.map((e,h)=>E(e,h));l(t),console.log(`ðŸŽ¨ ${t.length} logos tech crÃ©Ã©s:`,t)},[E,d,v]),T=o.useCallback((a,n)=>{const t=a.target,e=t.naturalWidth,h=t.naturalHeight;e&&h&&(l(i=>i.map(s=>{if(s.id===n){const w=e/h;let y,x;return w>1.2?(y=s.baseSize*1.2,x=y/w):w<.8?(x=s.baseSize*1.2,y=x*w):(y=s.baseSize,x=s.baseSize),{...s,actualWidth:y,actualHeight:x,imageLoaded:!0}}return s})),console.log(`ðŸ–¼ï¸ ${n}: ${e}x${h} â†’ dimensions ajustÃ©es`))},[]),G=o.useCallback(a=>{console.warn(`Erreur chargement logo tech: ${a}`),l(n=>n.map(t=>t.id===a?{...t,actualWidth:t.baseSize,actualHeight:t.baseSize,imageLoaded:!0}:t))},[]),J=o.useCallback(a=>{l(n=>n.map(t=>t.id===a&&!t.isPaused?{...t,savedVx:t.vx,savedVy:t.vy,savedRotationSpeed:t.rotationSpeed,vx:0,vy:0,rotationSpeed:0,rotation:0,isPaused:!0}:t))},[]),X=o.useCallback(a=>{l(n=>n.map(t=>t.id===a&&t.isPaused?{...t,vx:t.savedVx,vy:t.savedVy,rotationSpeed:t.savedRotationSpeed,isPaused:!1}:t))},[]),Z=o.useCallback(a=>{const n=D[a];n?(window.open(n,"_blank","noopener,noreferrer"),console.log(`ðŸ”— Ouverture de ${a}: ${n}`)):console.warn(`URL non trouvÃ©e pour ${a}`)},[]),W=o.useCallback(()=>{v&&(l(a=>{const n=[...a],t=S.current;n.forEach(e=>{e.isPaused||(e.x+=e.vx,e.y+=e.vy,e.rotation+=e.rotationSpeed)});for(let e=0;e<n.length;e++)for(let h=e+1;h<n.length;h++){const i=n[e],s=n[h],w=Math.max(i.actualWidth,i.actualHeight)/2,y=Math.max(s.actualWidth,s.actualHeight)/2,x=i.x+i.actualWidth/2-(s.x+s.actualWidth/2),P=i.y+i.actualHeight/2-(s.y+s.actualHeight/2),z=Math.sqrt(x*x+P*P),C=w+y;if(z<C){const M=Math.atan2(P,x),j=C-z,O=Math.cos(M)*j*.5,B=Math.sin(M)*j*.5;i.isPaused||(i.x+=O,i.y+=B),s.isPaused||(s.x-=O,s.y-=B);const f=Math.cos(M),p=Math.sin(M);if(i.isPaused&&!s.isPaused){const r=Math.sqrt(s.vx*s.vx+s.vy*s.vy),u=1.5;s.vx=-f*r*u,s.vy=-p*r*u}else if(!i.isPaused&&s.isPaused){const r=Math.sqrt(i.vx*i.vx+i.vy*i.vy),u=1.5;i.vx=f*r*u,i.vy=p*r*u}else if(!i.isPaused&&!s.isPaused){const r=i.vx*f+i.vy*p,u=-i.vx*p+i.vy*f,K=s.vx*f+s.vy*p,q=-s.vx*p+s.vy*f,V=1.27,F=K*V,I=r*V;i.vx=F*f-u*p,i.vy=F*p+u*f,s.vx=I*f-q*p,s.vy=I*p+q*f}const _=3.45;[i,s].forEach(r=>{const u=Math.sqrt(r.vx*r.vx+r.vy*r.vy);u>_&&(r.vx=r.vx/u*_,r.vy=r.vy/u*_)})}}return n.forEach(e=>{(e.x<=0||e.x>=t.width-e.actualWidth)&&(e.vx=-e.vx*1.1,e.x=Math.max(0,Math.min(e.x,t.width-e.actualWidth)),Math.abs(e.vx)>3.75&&(e.vx=Math.sign(e.vx)*3.75)),(e.y<=t.headerHeight||e.y>=t.height-t.footerHeight-e.actualHeight)&&(e.vy=-e.vy*1.1,e.y=Math.max(t.headerHeight,Math.min(e.y,t.height-t.footerHeight-e.actualHeight)),Math.abs(e.vy)>3.75&&(e.vy=Math.sign(e.vy)*3.75))}),n}),H.current=requestAnimationFrame(W))},[v]),$=o.useCallback(()=>{g(),l(a=>a.map(n=>{const t=S.current;let e=n.y;return n.y<t.headerHeight&&(e=t.headerHeight+10),n.y>t.height-t.footerHeight-n.actualHeight&&(e=t.height-t.footerHeight-n.actualHeight-10),{...n,y:e}}))},[g]);return o.useEffect(()=>((async()=>{await new Promise(n=>setTimeout(n,100)),g(),k(),W(),window.addEventListener("resize",$)})(),()=>{H.current&&cancelAnimationFrame(H.current),window.removeEventListener("resize",$)}),[g,k,W,$]),v?L.jsx("div",{className:"bouncing-logos-container",children:m.map(a=>L.jsxs("div",{className:"bouncing-logo",onMouseEnter:()=>J(a.id),onMouseLeave:()=>X(a.id),onClick:()=>Z(a.name),style:{left:`${a.x}px`,top:`${a.y}px`,transform:`rotate(${a.rotation}deg)`,opacity:a.opacity,width:`${a.actualWidth}px`,height:`${a.actualHeight}px`},children:[L.jsx("img",{src:a.src,alt:a.name,className:"logo-image",onLoad:n=>T(n,a.id),onError:()=>G(a.id)}),a.isPaused&&L.jsx("div",{className:"logo-tooltip",style:{top:`${a.actualHeight+5}px`},children:b})]},a.id))}):null};export{ie as B,L as j};
//# sourceMappingURL=components-CWTwBOxk.js.map
